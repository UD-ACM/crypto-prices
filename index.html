<html>
  <head>
    <title>Crypto Price Checker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="content">
      <h1>Crypto Price Checker</h1>

      <div id="search">
        <input
          type="text"
          name="crypto-name"
          id="crypto-name"
          placeholder="Enter Crypto Name"
        /><br />
        <button type="button" onclick="fetchPrice()">Check Price</button>
      </div>

      <div>
        <h1 id="name"></h1>
      </div>

      <p id="price"></p>
    </div>
    <script>
      async function fetchPrice() {
        const result = document.getElementById("result");

        const cryptoName = document
          .getElementById("crypto-name")
          .value.toLowerCase();

        // fetches the information about the cryptocurrency
        var requestOptions = {
          method: "GET",
          redirect: "follow",
        };

        const response = await fetch(
          `https://api.coincap.io/v2/assets/${cryptoName}`,
          requestOptions
        ).then((response) => response.json());

        const data = response.data;

        console.log(data);

        // set crypto data
        document.getElementById(
          "name"
        ).innerHTML = `${data.name} - ${data.symbol}`;
        document.getElementById("price").innerHTML = `Current Price: $${Number(
          data.priceUsd
        ).toFixed(2)}`;
      }
    </script>
  </body>
</html>
